!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=e=>{const t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");let r=setInterval(()=>{let c=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60),r=Math.floor(t/60/60)%24;return n=n<10?"0"+Math.floor(t%60):Math.floor(t%60),o=o<10?"0"+Math.floor(t/60%60):Math.floor(t/60%60),r=r<10?"0"+Math.floor(t/60/60%24):Math.floor(t/60/60%24),{timeRemaining:t,hours:r,minutes:o,seconds:n}})();c.timeRemaining>0?(t.textContent=c.hours,n.textContent=c.minutes,o.textContent=c.seconds):(t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(r))},1e3)};var r=()=>{const e=document.querySelector("menu"),t=document.querySelector(".menu");document.addEventListener("click",()=>{let n=event.target;(n.closest(".menu")||n.closest(".close-btn")||n.closest("li")&&n.closest("menu"))&&(event,e.classList.toggle("active-menu")),("A"===n.tagName&&n.closest("menu")||n.closest("a")&&n.closest("main"))&&(e=>{let t=e.target;t="A"!==t.tagName?t.closest("a"):t,e.preventDefault();let n=t.getAttribute("href"),o=document.querySelector(""+n);o&&o.scrollIntoView({block:"center",behavior:"smooth"})})(event),e.contains(n)||t.contains(n)||e.classList.remove("active-menu")})};var c=function(){window.innerWidth;const e=document.querySelector(".popup-content");e.style.top=(window.innerHeight-e.offsetHeight)/2+"px"};var s=()=>{const e=document.querySelector(".popup-content");let t=window.innerWidth;document.querySelector(".popup").style.cssText="\n      display:block;\n      opacity:0;\n      transition:.5s;\n      visibility:hidden;\n    ",e.style.top=t>768?"-100%":"10%"};let i,a=!1;const l=document.querySelector(".popup-content"),u=function(){if(a){a=!1;let e=(new Date).getTime(),t=l.getBoundingClientRect().top,n=-l.offsetHeight,o=l.offsetHeight+(window.innerHeight-l.offsetHeight)/2;i=function(){let r=(new Date).getTime()-e,c=Math.round(t-o*r/400);c=c<n?n:c,l.style.top=c+"px",c>n&&requestAnimationFrame(i)},requestAnimationFrame(i)}};var d=()=>{let e=window.innerWidth;const t=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach(n=>{n.addEventListener("click",()=>{t.style.cssText="\n          opacity:1;\n          transition:.5s;\n          visibility:visible;\n          display:block;\n        ",e>768?(()=>{a=!0;let e=(new Date).getTime(),t=l.getBoundingClientRect().top,n=(window.innerHeight-l.offsetHeight)/2,o=l.offsetHeight+n;i=function(){let r=(new Date).getTime()-e,c=Math.round(t+o*r/400);c=c>n?n:c,l.style.top=c+"px",c<n&&requestAnimationFrame(i)},requestAnimationFrame(i)})():l.style.top="10%"})}),t.addEventListener("click",n=>{let o=n.target;o.classList.contains("popup-close")?(t.style.cssText="\n          opacity:0;\n          transition:.5s;\n          visibility:hidden;\n          display:block;\n        ",e>768?u():l.style.top="10%"):(o=o.closest(".popup-content"),o||(u(),t.style.cssText="\n              opacity:0;\n              transition:.5s;\n              visibility:hidden;\n              display:block;\n            "))})};var m=()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach((e,r)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(r)})})};var v=()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelectorAll(".dot")),n=document.querySelector(".portfolio-content");let o,r=0;const c=(e,t,n)=>{e[t].classList.remove(n)},s=(e,t,n)=>{e[t].classList.add(n)},i=()=>{c(e,r,"portfolio-item-active"),c(t,r,"dot-active"),r++,r>=e.length&&(r=0),s(e,r,"portfolio-item-active"),s(t,r,"dot-active")},a=(e=1e4)=>{o=setInterval(i,e)};n.addEventListener("click",n=>{n.preventDefault();let o=n.target;o.matches(".portfolio-btn, .dot")&&(c(e,r,"portfolio-item-active"),c(t,r,"dot-active"),o.matches("#arrow-right")?r++:o.matches("#arrow-left")?r--:o.matches(".dot")&&t.forEach((e,t)=>{e===o&&(r=t)}),r>=e.length&&(r=0),r<0&&(r=e.length-1),s(e,r,"portfolio-item-active"),s(t,r,"dot-active"))}),n.addEventListener("mouseover",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)}),n.addEventListener("mouseout",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&a()}),a(1500)};var p=e=>{let t=document.querySelectorAll(".portfolio-item");const n=document.querySelector(".portfolio-dots");t.forEach((e,o)=>{o===t.length-1?n.insertAdjacentHTML("afterbegin",'<li class="dot dot-active"></li>'):n.insertAdjacentHTML("afterbegin",'<li class="dot"></li>')}),e()};var f=e=>{let t=e.target;t.matches(".command__photo")&&([t.src,t.dataset.img]=[t.dataset.img,t.src])};var y=(e=100)=>{const t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),s=document.getElementById("total"),i=()=>{let t=0,i=1,a=1;const l=n.options[n.selectedIndex].value,u=+o.value;c.value>1&&(i+=(c.value-1)/10),r.value&&r.value<5?a*=2:r.value&&r.value<10&&(a*=1.5),l&&u&&(t=e*l*u*i*a),t>0&&(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function r(c){let s=(c-o)/n;s>1&&(s=1);let i=e(s);t(i),s<1&&requestAnimationFrame(r)}))})({duration:500,timing:function(e){return Math.pow(e,5)},draw:function(e){s.textContent=Math.floor(e*t)}})};t.addEventListener("change",e=>{let t=e.target;(t.matches("select")||t.matches("input"))&&i()})};var h=()=>{const e=document.createElement("div");e.style.cssText="font-size:2rem;",document.addEventListener("submit",o=>{o.preventDefault();let r=o.target;const c=new FormData(r);let s=r.querySelector("input.form-phone"),i={};c.forEach((e,t)=>{i[t]=e}),/^\+?[78]*\d{10}$/.test(s.value)?(s.style.border="",r.appendChild(e),e.insertAdjacentHTML("afterbegin",'\n        <div class="sk-wave">\n          <div class="sk-rect sk-rect-1"></div> \n          <div class="sk-rect sk-rect-2"></div> \n          <div class="sk-rect sk-rect-3"></div> \n          <div class="sk-rect sk-rect-4"></div> \n          <div class="sk-rect sk-rect-5"></div>\n          </div>\n      '),n(i).then(t=>{if(200!==t.status)throw new new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!"}).catch(t=>{e.textContent="Что-то пошло не так...",console.error(t)}),t(r)):r.style.cssText="border:2px solid red;background:#fff"});const t=e=>{e.querySelectorAll("input").forEach(e=>{e.value=""})};document.addEventListener("input",e=>{let t=e.target;t.matches('[name="user_name"]')||t.matches('[name="user_message"]')?t.value=t.value.replace(/[^а-яА-ЯёЁ,.!?\s]/,""):t.matches('[name="user_phone"]')&&(t.value=t.value.replace(/[^\+?[0-9]/i,""),/^\+?[78][0-9]{10}$/.test(t.value)?(t.style.cssText="border:2px solid green",t.setCustomValidity("")):0===t.value.length?t.style.border="":(t.setCustomValidity("Введите значение в формате +79273335544 или 89273335544"),t.style.cssText="border:2px solid red;"))});const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})};var g=()=>{document.querySelector(".calc-block").addEventListener("input",e=>{let t=e.target;"INPUT"===t.tagName&&(t.value=t.value.replace(/\D/g,""))})};o("22 september 2020"),r(),window.addEventListener("resize",c),s(),d(),m(),p(v),document.getElementById("command").addEventListener("mouseover",f),document.getElementById("command").addEventListener("mouseout",f),g(),y(100),h()}]);